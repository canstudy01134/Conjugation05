<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ´»ç”¨è‹±å˜èª 05</title>
    <link href="https://fonts.googleapis.com/css2?family=Klee+One:wght@600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4a90e2;
            --test-color: #62b300;
            --play-color: #e67e22;
            --bg-color: #f0f2f5;
        }
        body { font-family: 'Klee One', cursive, sans-serif; background-color: var(--bg-color); margin: 0; padding: 10px; }
        .container { max-width: 600px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); overflow: hidden; }
        
        .header { padding: 20px 15px; text-align: center; border-bottom: 2px solid var(--primary-color); background: white; }
        .main-title { font-size: 1.4rem; margin: 0; color: #333; }
        .sub-title-badge { display: inline-block; background: var(--primary-color); color: white; padding: 4px 18px; border-radius: 20px; font-size: 0.95rem; font-weight: bold; margin-top: 10px; }
        
        .controls { padding: 15px; background: #fafafa; border-bottom: 1px solid #ddd; }
        .nav-buttons { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        
        button { padding: 10px 15px; border: none; border-radius: 6px; background: var(--primary-color); color: white; cursor: pointer; font-weight: bold; font-family: inherit; }
        button:disabled { background-color: #ccc; }
        
        .interval-selector { display: flex; align-items: center; justify-content: center; gap: 5px; background: #eee; padding: 4px; border-radius: 10px; margin-bottom: 10px; }
        .interval-selector label { flex: 1; text-align: center; cursor: pointer; padding: 8px 2px; border-radius: 8px; font-size: 0.75rem; }
        .interval-selector input { display: none; }
        .interval-selector input:checked + span { background: white; display: block; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); color: var(--primary-color); font-weight: bold; }

        .test-mode-btn { width: 100%; background: var(--test-color); margin-top: 5px; }
        .test-mode-btn.active { background: white; color: var(--test-color); border: 2px solid var(--test-color); }

        .play-divider { background: #fff3e0; padding: 10px; text-align: center; border-bottom: 1px solid #ffe0b2; }
        .play-btn-inline { background: var(--play-color); width: 90%; font-size: 0.9rem; border-radius: 20px; }
        .play-btn-inline.playing { background: #d35400; outline: 3px solid #ffeb3b; }

        .word-list { display: flex; flex-direction: column; }
        .word-row { display: flex; align-items: center; padding: 15px 12px; border-bottom: 1px solid #eee; background: white; cursor: pointer; }
        .word-row.highlight { background-color: #fff9c4 !important; border-left: 5px solid var(--play-color); }

        .num-col { width: 35px; color: #999; font-size: 0.8rem; font-weight: bold; }
        .en-col { flex: 2.5; display: flex; flex-direction: column; gap: 4px; }
        .word-unit { display: flex; flex-direction: column; }
        .kana-small { font-size: 0.65rem; color: #888; margin-bottom: -2px; }
        .word-large { font-size: 1.25rem; color: #000; font-weight: bold; line-height: 1.2; }
        .word-sep { border-left: 3px solid #eee; padding-left: 10px; margin-left: 2px; }
        
        .ja-col { flex: 1.5; font-size: 1rem; color: #444; border-left: 2px solid #f0f0f0; padding-left: 15px; font-weight: bold; }
        .hide-ja .ja-col { visibility: hidden; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <div class="main-title">è‹±å˜èªã€€2å¹´ã€€æ¯”è¼ƒãƒ»æœ€ä¸Šå˜èª40</div>
        <div class="sub-title-badge" id="subTitle">1ç•ª ã€œ 20ç•ª</div>
    </div>
    
    <div class="controls">
        <div class="nav-buttons">
            <button id="prevBtn" onclick="changePage(-1)">â† å‰</button>
            <span id="pageIndicator" style="font-weight: bold;">1 / 2</span>
            <button id="nextBtn" onclick="changePage(1)">æ¬¡ â†’</button>
        </div>

        <div class="interval-selector">
            <label><input type="radio" name="interval" value="500"><span>æ¬¡ã€…ã«<br>(0.5s)</span></label>
            <label><input type="radio" name="interval" value="1000" checked><span>ä¸€ã¤ãšã¤<br>(1.0s)</span></label>
            <label><input type="radio" name="interval" value="1500"><span>ã‚†ã£ãã‚Š<br>(1.5s)</span></label>
        </div>

        <button id="testModeBtn" class="test-mode-btn" onclick="toggleTestMode()">æ—¥æœ¬èªã‚’éš ã™ğŸ™ˆ</button>
    </div>

    <div id="wordList" class="word-list"></div>
</div>

<script>
    const wordData = [
        ["small", "smaller than", "the smallest", "ã‚¹ãƒ¢ãƒ¼ãƒ«", "ã‚¹ãƒ¢ãƒ¼ãƒ©ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ã‚¹ãƒ¢ãƒ¼ãƒ¬ã‚¹ãƒˆ", "å°ã•ã„"],
        ["big", "bigger than", "the biggest", "ãƒ“ãƒƒã‚°", "ãƒ“ãƒƒã‚¬ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ“ã‚²ã‚¹ãƒˆ", "å¤§ãã„"],
        ["large", "larger than", "the largest", "ãƒ©ãƒ¼ã‚¸", "ãƒ©ãƒ¼ã‚¸ãƒ£ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ©ãƒ¼ã‚¸ã‚§ã‚¹ãƒˆ", "å¤§ãã„(åºƒã•)"],
        ["new", "newer than", "the newest", "ãƒ‹ãƒ¥ãƒ¼", "ãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ‹ãƒ¥ãƒ¼ã‚¨ã‚¹ãƒˆ", "æ–°ã—ã„"],
        ["old", "older than", "the oldest", "ã‚ªãƒ¼ãƒ«ãƒ‰", "ã‚ªãƒ¼ãƒ«ãƒ€ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ã‚ªãƒ¼ãƒ«ãƒ‡ã‚¹ãƒˆ", "å¤ã„ã€å¹´ä¸Š"],
        ["young", "younger than", "the youngest", "ãƒ¤ãƒ³ã‚°", "ãƒ¤ãƒ³ã‚¬ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ¤ãƒ³ã‚²ã‚¹ãƒˆ", "è‹¥ã„"],
        ["long", "longer than", "the longest", "ãƒ­ãƒ³ã‚°", "ãƒ­ãƒ³ã‚¬ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ­ãƒ³ã‚²ã‚¹ãƒˆ", "é•·ã„"],
        ["short", "shorter than", "the shortest", "ã‚·ãƒ§ãƒ¼ãƒˆ", "ã‚·ãƒ§ãƒ¼ã‚¿ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ã‚·ãƒ§ãƒ¼ãƒ†ã‚¹ãƒˆ", "çŸ­ã„"],
        ["fast", "faster than", "the fastest", "ãƒ•ã‚¡ã‚¹ãƒˆ", "ãƒ•ã‚¡ã‚¹ã‚¿ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ•ã‚¡ã‚¹ãƒ†ã‚¹ãƒˆ", "é€Ÿã„"],
        ["slow", "slower than", "the slowest", "ã‚¹ãƒ­ã‚¦", "ã‚¹ãƒ­ãƒ¯ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ã‚¹ãƒ­ã‚¦ã‚§ã‚¹ãƒˆ", "é…ã„"],
        ["early", "earlier than", "the earliest", "ã‚¢ãƒ¼ãƒªãƒ¼", "ã‚¢ãƒ¼ãƒªã‚¢ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ã‚¢ãƒ¼ãƒªã‚¨ã‚¹ãƒˆ", "æ—©ã„(æ™‚é–“)"],
        ["high", "higher than", "the highest", "ãƒã‚¤", "ãƒã‚¤ãƒ¤ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒã‚¤ã‚¨ã‚¹ãƒˆ", "é«˜ã„(m)"],
        ["low", "lower than", "the lowest", "ãƒ­ã‚¦", "ãƒ­ã‚¦ãƒ¯ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ­ã‚¦ã‚¦ã‚§ã‚¹ãƒˆ", "ä½ã„(m)"],
        ["heavy", "heavier than", "the heaviest", "ãƒ˜ãƒ“ãƒ", "ãƒ˜ãƒ“ãƒ¤ã‚¡ ã‚¶ãƒ³", "ã‚¶ ãƒ˜ãƒ“ã‚£ã‚¨ã‚¹ãƒˆ", "é‡ã„"],
        ["light", "lighter than", "the lightest", "ãƒ©ã‚¤ãƒˆ", "ãƒ©ã‚¤ã‚¿ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ©ã‚¤ãƒ†ã‚¹ãƒˆ", "è»½ã„"],
        ["poor", "poorer than", "the poorest", "ãƒ—ã‚¡", "ãƒ—ã‚¡ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ—ãƒ¼ãƒ¬ã‚¹ãƒˆ", "è²§ã—ã„"],
        ["rich", "richer than", "the richest", "ãƒªãƒƒãƒ", "ãƒªãƒƒãƒãƒ£ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒªãƒƒãƒã‚§ã‚¹ãƒˆ", "è£•ç¦ã§ã‚ã‚‹"],
        ["hot", "hotter than", "the hottest", "ãƒ›ãƒƒãƒˆ", "ãƒ›ãƒƒã‚¿ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ›ãƒƒãƒ†ã‚¹ãƒˆ", "æš‘ã„"],
        ["easy", "easier than", "the easiest", "ã‚¤ãƒ¼ã‚ºã‚£", "ã‚¤ãƒ¼ã‚¶ã‚¡ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ã‚¤ãƒ¼ã‚¼ã‚¹ãƒˆ", "ç°¡å˜ã§ã‚ã‚‹"],
        ["difficult", "more difficult than", "the most difficult", "ãƒ‡ã‚£ãƒ•ã‚£ã‚«ãƒ«ãƒˆ", "ãƒ¢ã‚¢ ãƒ‡ã‚£ãƒ•ã‚£ã‚«ãƒ«ãƒˆ ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ ãƒ‡ã‚£ãƒ•ã‚£ã‚«ãƒ«ãƒˆ", "é›£ã—ã„"],
        ["strong", "stronger than", "the strongest", "ã‚¹ãƒˆãƒ­ãƒ³ã‚°", "ã‚¹ãƒˆãƒ­ãƒ³ã‚¬ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ã‚¹ãƒˆãƒ­ãƒ³ã‚²ã‚¹ãƒˆ", "å¼·ã„"],
        ["nice", "nicer than", "the nicest", "ãƒŠã‚¤ã‚¹", "ãƒŠã‚¤ã‚µãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒŠã‚¤ã‚»ã‚¹ãƒˆ", "è‰¯ã„ã€ã™ã¦ã"],
        ["cold", "colder than", "the coldest", "ã‚³ãƒ¼ãƒ«ãƒ‰", "ã‚³ãƒ¼ãƒ«ãƒ€ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ã‚³ãƒ¼ãƒ«ãƒ‡ã‚¹ãƒˆ", "å¯’ã„"],
        ["warm", "warmer than", "the warmest", "ã‚¦ã‚©ãƒ¼ãƒ ", "ã‚¦ã‚©ãƒ¼ãƒãƒ¼ ã‚¶ãƒ³", "ã‚¶ ã‚¦ã‚©ãƒ¼ãƒ¡ã‚¹ãƒˆ", "æš–ã‹ã„"],
        ["happy", "happier than", "the happiest", "ãƒãƒƒãƒ”ãƒ¼", "ãƒãƒ”ãƒ¤ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒãƒ”ã‚§ã‚¹ãƒˆ", "å¹¸ã›ã§ã‚ã‚‹"],
        ["busy", "busier than", "the busiest", "ãƒ“ã‚¸ãƒ¼", "ãƒ“ã‚ºã‚£ãƒ¤ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ“ã‚ºã‚£ã‚¤ã‚§ã‚¹ãƒˆ", "å¿™ã—ã„"],
        ["famous", "more famous than", "the most famous", "ãƒ•ã‚§ã‚¤ãƒã‚¹", "ãƒ¢ã‚¢ ãƒ•ã‚§ã‚¤ãƒã‚¹ ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ ãƒ•ã‚§ã‚¤ãƒã‚¹", "æœ‰åã§ã‚ã‚‹"],
        ["popular", "more popular than", "the most popular", "ãƒãƒ”ãƒ¥ãƒ©ãƒ¼", "ãƒ¢ã‚¢ ãƒãƒ”ãƒ¥ãƒ©ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ ãƒãƒ”ãƒ¥ãƒ©ãƒ¼", "äººæ°—ãŒã‚ã‚‹"],
        ["beautiful", "more beautiful than", "the most beautiful", "ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ•ãƒ«", "ãƒ¢ã‚¢ ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ•ãƒ« ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ•ãƒ«", "ç¾ã—ã„"],
        ["exciting", "more exciting than", "the most exciting", "ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ã‚°", "ãƒ¢ã‚¢ ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ã‚° ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ã‚°", "ã‚ãã‚ãã™ã‚‹"],
        ["interesting", "more interesting than", "the most interesting", "ã‚¤ãƒ³ã‚¿ãƒ¬ã‚¹ãƒ†ã‚£ãƒ³ã‚°", "ãƒ¢ã‚¢ ã‚¤ãƒ³ã‚¿ãƒ¬ã‚¹ãƒ†ã‚£ãƒ³ã‚° ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ ã‚¤ãƒ³ã‚¿ãƒ¬ã‚¹ãƒ†ã‚£ãƒ³ã‚°", "é¢ç™½ã„"],
        ["important", "more important than", "the most important", "ã‚¤ãƒ³ãƒãƒ¼ã‚¿ãƒ³ãƒˆ", "ãƒ¢ã‚¢ ã‚¤ãƒ³ãƒãƒ¼ã‚¿ãƒ³ãƒˆ ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ ã‚¤ãƒ³ãƒãƒ¼ã‚¿ãƒ³ãƒˆ", "é‡è¦ã§ã‚ã‚‹"],
        ["useful", "more useful than", "most useful", "ãƒ¦ãƒ¼ã‚¹ãƒ•ãƒ«", "ãƒ¢ã‚¢ ãƒ¦ãƒ¼ã‚¹ãƒ•ãƒ« ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ ãƒ¦ãƒ¼ã‚¹ãƒ•ãƒ«", "ä¾¿åˆ©ã§ã‚ã‚‹"],
        ["careful", "more careful than", "the most careful", "ã‚±ã‚¢ãƒ•ãƒ«", "ãƒ¢ã‚¢ ã‚±ã‚¢ãƒ•ãƒ« ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ ã‚±ã‚¢ãƒ•ãƒ«", "æ³¨æ„æ·±ã„"],
        ["well", "better than", "the best", "ã‚¦ã‚§ãƒ«", "ãƒ™ã‚¿ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ™ã‚¹ãƒˆ", "è‰¯ã„(æ–‡æœ«)"],
        ["good", "better than", "the best", "ã‚°ãƒƒãƒ‰", "ãƒ™ã‚¿ãƒ¼ ã‚¶ãƒ³", "ã‚¶ ãƒ™ã‚¹ãƒˆ", "è‰¯ã„(å‹•è©æ¬¡)"],
        ["bad", "worse than", "the worst", "ãƒãƒƒãƒ‰", "ãƒ¯ãƒ¼ã‚¹ ã‚¶ãƒ³", "ã‚¶ ãƒ¯ãƒ¼ã‚¹ãƒˆ", "æ‚ªã„"],
        ["many", "more than", "the most", "ãƒ¡ãƒ‹ã‚£", "ãƒ¢ã‚¢ ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ", "å¤šãã®"],
        ["much", "more than", "the most", "ãƒãƒƒãƒ", "ãƒ¢ã‚¢ ã‚¶ãƒ³", "ã‚¶ ãƒ¢ã‚¹ãƒˆ", "ãŸãã•ã‚“ã®"],
        ["little", "less than", "the least", "ãƒªãƒˆã‚¥ãƒ«", "ãƒ¬ã‚¹ ã‚¶ãƒ³", "ã‚¶ ãƒªãƒ¼ã‚¹ãƒˆ", "å°‘ãªã„"]
    ];

    let currentPage = 0;
    const pageSize = 20;
    let isAutoPlaying = false;

    function render() {
        stopAutoPlay();
        const list = document.getElementById('wordList');
        list.innerHTML = '';
        const start = currentPage * pageSize;
        const end = Math.min(start + pageSize, wordData.length);

        document.getElementById('subTitle').innerText = `${start + 1}ç•ª ã€œ ${end}ç•ª`;
        document.getElementById('pageIndicator').innerText = `${currentPage + 1} / 2`;
        document.getElementById('prevBtn').disabled = (currentPage === 0);
        document.getElementById('nextBtn').disabled = (currentPage === 1);

        for (let i = start; i < end; i++) {
            const indexInPage = i - start;
            if (indexInPage % 5 === 0) {
                const div = document.createElement('div');
                div.className = 'play-divider';
                div.innerHTML = `<button class="play-btn-inline" id="btn-play-${indexInPage}" onclick="playGroup(${indexInPage}, 5)">â–¶ ${i+1}-${Math.min(i+5, 40)} é€£ç¶šå†ç”Ÿ</button>`;
                list.appendChild(div);
            }

            const row = document.createElement('div');
            row.className = 'word-row';
            row.id = `row-${indexInPage}`;
            row.onclick = () => speakTriple(wordData[i][0], wordData[i][1], wordData[i][2]);
            
            row.innerHTML = `
                <div class="num-col">${i + 1}</div>
                <div class="en-col">
                    <div class="word-unit">
                        <span class="kana-small">${wordData[i][3]}</span>
                        <span class="word-large">${wordData[i][0]}</span>
                    </div>
                    <div class="word-unit word-sep">
                        <span class="kana-small">${wordData[i][4]}</span>
                        <span class="word-large">â†’ ${wordData[i][1]}</span>
                    </div>
                    <div class="word-unit word-sep">
                        <span class="kana-small">${wordData[i][5]}</span>
                        <span class="word-large">â†’ ${wordData[i][2]}</span>
                    </div>
                </div>
                <div class="ja-col">${wordData[i][6]}</div>
            `;
            list.appendChild(row);
        }
    }

    function changePage(n) {
        currentPage += n;
        render();
        window.scrollTo(0, 0);
    }

    function toggleTestMode() {
        document.getElementById('wordList').classList.toggle('hide-ja');
        const btn = document.getElementById('testModeBtn');
        btn.classList.toggle('active');
        btn.innerText = btn.classList.contains('active') ? "æ—¥æœ¬èªã‚’è¡¨ç¤ºğŸ‘ï¸" : "æ—¥æœ¬èªã‚’éš ã™ğŸ™ˆ";
    }

    function speak(text, callback) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'en-US';
        msg.rate = 0.77; // èª­ã¿ä¸Šã’é€Ÿåº¦
        msg.onend = callback;
        speechSynthesis.speak(msg);
    }

    async function speakTriple(v1, v2, v3, callback) {
        speechSynthesis.cancel();
        const innerDelay = 600; // ã“ã“ã§å˜èªé–“ã®å¾…ã¡æ™‚é–“ã‚’èª¿æ•´ï¼ˆ0.6ç§’ï¼‰

        await new Promise(r => speak(v1, r));
        await new Promise(r => setTimeout(r, innerDelay));
        
        await new Promise(r => speak(v2, r));
        await new Promise(r => setTimeout(r, innerDelay));
        
        await new Promise(r => speak(v3, r));
        
        if(callback) callback();
    }

    async function playGroup(startIndex, count) {
        if (isAutoPlaying) { stopAutoPlay(); return; }
        isAutoPlaying = true;
        
        const btn = document.getElementById(`btn-play-${startIndex}`);
        btn.classList.add('playing');
        btn.innerText = "â–  åœæ­¢";
        
        const startIdx = currentPage * pageSize;
        const interval = parseInt(document.querySelector('input[name="interval"]:checked').value);

        for (let i = startIndex; i < startIndex + count; i++) {
            if (!isAutoPlaying || !wordData[startIdx + i]) break;
            
            document.querySelectorAll('.word-row').forEach(r => r.classList.remove('highlight'));
            const currentRow = document.getElementById(`row-${i}`);
            if (currentRow) {
                currentRow.classList.add('highlight');
                currentRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            
            await new Promise(res => {
                speakTriple(wordData[startIdx + i][0], wordData[startIdx + i][1], wordData[startIdx + i][2], () => {
                    setTimeout(res, interval);
                });
            });
        }
        stopAutoPlay();
    }

    function stopAutoPlay() {
        isAutoPlaying = false;
        speechSynthesis.cancel();
        document.querySelectorAll('.play-btn-inline').forEach((b, idx) => {
            b.classList.remove('playing');
            const num = (currentPage * pageSize) + (idx * 5) + 1;
            b.innerText = `â–¶ ${num}-${Math.min(num+4, 40)} é€£ç¶šå†ç”Ÿ`;
        });
        document.querySelectorAll('.word-row').forEach(r => r.classList.remove('highlight'));
    }

    render();
</script>
</body>
</html>
